{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<section class="change-password-section">
    <div class="container mt-5">
        <h2 class="text-center">Set Your New Password</h2>
        <div class="row justify-content-center">
            <div class="col-md-6">
                <form method="post">
                    {% csrf_token %}
                    {{ form|crispy }}

                    <!-- Checkbox for showing/hiding passwords -->
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="togglePassword">
                        <label class="form-check-label" for="togglePassword">Show Passwords</label>
                    </div>

                    <div class="form-group">
                        <input type="submit" class="btn btn-block" value="Change Password" style="background-color: #D6A2AD;">
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript to toggle password visibility -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const togglePassword = document.getElementById('togglePassword');
    togglePassword.addEventListener('change', function () {
        const passwordFields = document.querySelectorAll('input[type="password"]');
        passwordFields.forEach(field => {
            field.type = this.checked ? 'text' : 'password';
        });
    });
});
</script>
{% endblock %}
